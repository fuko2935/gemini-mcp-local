startCommand:
  type: local
  configSchema:
    type: object
    required:
      - geminiApiKeys
      - projectToMount
    properties:
      geminiApiKeys:
        type: string
        description: "Your Gemini API keys (comma-separated). Get yours at: https://makersuite.google.com/app/apikey"
      projectToMount:
        type: string
        description: "IMPORTANT: The absolute path on your local machine to the project you want to analyze (e.g., C:\\Users\\YourName\\Desktop\\MyProject)."
      logsPath:
        type: string
        description: "The absolute path for log files. Default: ./logs"
        default: "./logs"
  exampleConfig:
    geminiApiKeys: "your-api-key-here"
    projectToMount: "/path/to/your/local/project"
  commandFunction: |-
    (config) => {
      // Bu komut, kullanıcının yerel makinesindeki Smithery Daemon tarafından çalıştırılır.
      const userProjectDirectory = config.projectToMount;

      if (!userProjectDirectory) {
        throw new Error("'projectToMount' is a required configuration field. Please provide the local path to your project in the Smithery start configuration.");
      }

      return {
        command: 'docker',
        args: [
          'run',
          '--rm',
          '-i',
          '-v',
          `${userProjectDirectory}:/workspace`,
          '-w',
          '/workspace',
          '-e',
          `GEMINI_API_KEY=${config.geminiApiKeys}`,
          '-e',
          `LOGS_DIR=${config.logsPath || '/app/logs'}`,
          '-e',
          `MCP_LOG_LEVEL=debug`,
          `smithery-build-${config.packageName}`,
          'node',
          'dist/simple-server.js'
        ]
      };
    }